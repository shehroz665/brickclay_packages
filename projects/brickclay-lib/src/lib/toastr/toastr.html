<!-- Toast Container – fixed overlay -->
<div class="toast-container" [attr.data-position]="position$ | async">

  @for (toast of (toasts$ | async) ?? []; track toast.id) {
    <div
      class="toast-item"
      [attr.data-severity]="toast.severity"
      [class.toast-enter]="!toast.leaving"
      [class.toast-leave]="toast.leaving">

      <!-- ── Icon ── -->
      @if (toast.icon) {
        <svg class="toast-icon shrink-0" width="20" height="20" viewBox="0 0 20 20"
             fill="none" xmlns="http://www.w3.org/2000/svg">
          <g [attr.clip-path]="'url(#clip_' + toast.id + ')'">
            <path
              d="M10.0001 13.3334V10M10.0001 6.66671H10.0084M18.3334 10C18.3334 5.39767 14.6025 1.66671 10.0001 1.66671C5.39771 1.66671 1.66675 5.39767 1.66675 10C1.66675 14.6024 5.39771 18.3334 10.0001 18.3334C14.6025 18.3334 18.3334 14.6024 18.3334 10Z"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round" />
          </g>
          <defs>
            <clipPath [attr.id]="'clip_' + toast.id">
              <rect width="20" height="20" fill="white" />
            </clipPath>
          </defs>
        </svg>
      }

      <!-- ── Content ── -->
      <div class="flex-1 min-w-0">
        <p class="toast-summary">{{ toast.summary }}</p>
        @if (toast.detail) {
          <p class="toast-detail">{{ toast.detail }}</p>
        }
      </div>

      <!-- ── Action button ── -->
      @if (toast.actionLabel) {
        <button type="button" class="toast-action" (click)="onAction($event, toast)">
          {{ toast.actionLabel }}
        </button>
      }

      <!-- ── Close button ── -->
      <button type="button" class="toast-close" (click)="onClose($event, toast.id)">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none"
             xmlns="http://www.w3.org/2000/svg">
          <path
            d="M10.625 0.625L0.625 10.625M0.625 0.625L10.625 10.625"
            stroke-width="1.25"
            stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>

    </div>
  }

</div>
