<div class="flex flex-col gap-1.5 w-full">

  @if (label) {
    <label
      class="text-sm font-medium text-[#141414] block" [for]="id">
      {{ label }}
      @if (required) {
        <span class="text-[#E7000B] ml-0.5">*</span>
      }
    </label>
  }

  <div class="relative">
    <textarea
      [id]="id"
      [name]="name"
      [disabled]="disabled"
      [tabindex]="tabIndex"
      [readOnly]="readOnly"
      [attr.maxlength]="maxlength"
      [attr.minlength]="minlength"
      [autocomplete]="autoComplete"
      [autocapitalize]="autoCapitalize"
      [inputMode]="inputMode"
      [value]="value"
      (input)="handleInput($event)"
      (change)="handleChange($event)"
      (blur)="handleBlur($event)"
      (focus)="handleFocus($event)"
      [placeholder]="placeholder"

      [autocomplete]="autoComplete"

      rows="{{rows}}"
      class="
        w-full
        px-3 py-2.5
        text-sm
        border border-[#E3E3E7] rounded-[4px]
        outline-none
        transition-colors duration-200
        bg-white resize-y
        placeholder:text-[#6B7080]
      "
      [ngClass]="{
        'border-[#FA727A] text-[#141414]': hasError && !disabled,

        'focus:border-[#6B7080] text-[#141414]': !hasError && !disabled,

        'bg-[#F4F4F6] text-[#A1A3AE] border-[#E3E3E7] cursor-not-allowed': disabled
      }"
    ></textarea>
  </div>

  <div class="flex justify-between items-start font-normal text-sm">

    <div class="flex-1">
      @if (hasError) {
        <span class="text-[#F34050]">
          {{ errorMessage }}
        </span>
      } @else if (hint) {
        <span class="text-[#868997]">
          {{ hint }}
        </span>
      }
    </div>

    @if (maxlength) {
      <div
        class="text-[#868997] tabular-nums flex-shrink-0"
      >
        {{ value.length }}/{{ maxlength }}
      </div>
    }


  </div>

</div>
