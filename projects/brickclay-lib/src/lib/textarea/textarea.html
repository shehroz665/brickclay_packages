<div class="flex flex-col gap-1.5 w-full">

  @if (label) {
    <label
      class="text-sm font-medium text-[#141414] block" [attr.for]="effectiveId">
      {{ label }}
      @if (required) {
        <span class="text-[#E7000B] ml-0.5">*</span>
      }
    </label>
  }

  <div class="relative">
    <textarea
      [id]="effectiveId"
      [attr.name]="name"
      [value]="value"
      (input)="handleEvent($event)"
      (change)="handleEvent($event)"
      (blur)="handleEvent($event)"
      (focus)="handleEvent($event)"
      [placeholder]="placeholder"
      [disabled]="isDisabled"
      [attr.maxlength]="maxLength"
      rows="{{rows}}"
      class="
        w-full
        px-3 py-2.5
        text-sm
        border border-[#E3E3E7] rounded-[4px]
        outline-none
        transition-colors duration-200
        bg-white resize-y
        placeholder:text-[#6B7080]
      "
      [ngClass]="{
        'border-[#FA727A] text-[#141414]': hasError && !isDisabled,

        'focus:border-[#6B7080] text-[#141414]': !hasError && !isDisabled,

        'bg-[#F4F4F6] text-[#A1A3AE] border-[#E3E3E7] cursor-not-allowed': isDisabled
      }"
    ></textarea>
  </div>

  <div class="flex justify-between items-start font-normal text-sm">

    <div class="flex-1">
      @if (showError) {
        <span class="text-[#F34050]">
          {{ errorMessage }}
        </span>
      } @else if (hint) {
        <span class="text-[#868997]">
          {{ hint }}
        </span>
      }
    </div>

    @if (maxLength) {
      <div
        class="text-[#868997] tabular-nums flex-shrink-0"
      >
        {{ value.length }}/{{ maxLength }}
      </div>
    }


  </div>

</div>
