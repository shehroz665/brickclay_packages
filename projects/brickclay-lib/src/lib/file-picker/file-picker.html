<div class="file-picker-wrapper">
  <input
    #fileInput
    type="file"
    [id]="id"
    [name]="name"
    [accept]="accept"
    [multiple]="multi"
    [disabled]="disable"
    [required]="required"
    class="file-picker__input"
    (cancel)="onCancel()"
    (change)="onFileChange($event)"
  />

  <div
    class="file-picker"
  [ngClass]="{
    'file-picker--default': pickerState === 'default',
    'file-picker--active': pickerState === 'active',
    'file-picker--disabled': pickerState === 'disabled',
    'file-picker-has-error': hasError
  }"
  (click)="onContainerClick()"
  (dragover)="onDragOver($event)"
  (drop)="onDrop($event)"
  role="button"
  [attr.aria-disabled]="disable"
  tabindex="0"
>
  <svg
    width="48"
    height="48"
    viewBox="0 0 48 48"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    class="file-picker__icon">
    <rect
      x="3.57007"
      y="3.56995"
      width="40"
      height="40"
      rx="20"
      [attr.fill]="pickerState === 'active' ? '#C7E2FF' : pickerState === 'disabled' ? '#F4F4F6' : '#F4F4F6'"/>
    <rect
      x="3.57007"
      y="3.56995"
      width="40"
      height="40"
      rx="20"
      [attr.stroke]="pickerState === 'active' ? '#E5F3FF' : pickerState === 'disabled' ? '#F9FAFA' : '#F9FAFA'"
      stroke-width="7.14"/>
    <g clip-path="url(#clip0_1_149094)">
      <path
        d="M23.5702 20.2366V23.5699M23.5702 26.9032H23.5785M31.9035 23.5699C31.9035 28.1723 28.1725 31.9032 23.5702 31.9032C18.9678 31.9032 15.2368 28.1723 15.2368 23.5699C15.2368 18.9675 18.9678 15.2366 23.5702 15.2366C28.1725 15.2366 31.9035 18.9675 31.9035 23.5699Z"
        [attr.stroke]="pickerState === 'active' ? '#1434CB' : pickerState === 'disabled' ? '#868997' : '#868997'"
        stroke-width="1.66667"
        stroke-linecap="round"
        stroke-linejoin="round"/>
    </g>
    <defs>
      <clipPath id="clip0_1_149094">
        <rect width="20" height="20" fill="white" transform="translate(13.5701 13.5699)"/>
      </clipPath>
    </defs>
  </svg>
  <p
    class="file-picker__text-primary"
    [ngClass]="{
      'file-picker__text-primary--default': pickerState === 'default',
      'file-picker__text-primary--active': pickerState === 'active',
      'file-picker__text-primary--disabled': pickerState === 'disabled'
    }">
    <span
      [ngClass]="{
        'file-picker__text-primary-bold--default': pickerState === 'default',
        'file-picker__text-primary-bold--active': pickerState === 'active',
        'file-picker__text-primary-bold--disabled': pickerState === 'disabled'
      }">Click to upload</span> or drag and drop
  </p>
  <p
    class="file-picker__text-secondary"
    [ngClass]="{
      'file-picker__text-secondary--default': pickerState === 'default',
      'file-picker__text-secondary--active': pickerState === 'active',
      'file-picker__text-secondary--disabled': pickerState === 'disabled'
    }">SVG, PNG, JPG or GIF (max. 800x400px)</p>
  </div>

  @if (hasError) {
    @if (errorMessage) {
      <p class="file-picker-error">{{ errorMessage }}</p>
    }
  }
</div>
